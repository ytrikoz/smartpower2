<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=320, initial-scale=1" />
    <meta name="MobileOptimized" content="320" />
    <meta name="HandheldFriendly" content="true" />
    <title>SmartPower 2</title>
    <!-- shortcut::favicon.png -->
    <script src="js/jquery.js"></script>
    <script type="text/javascript">
        $(document).bind("mobileinit", function () {
            $.mobile.hashListeningEnabled = false;
            $.mobile.pushStateEnabled = false;
            $.mobile.page.prototype.options.domCache = true;
            $.mobile.loader.prototype.options.text = "loading";
            $.mobile.loader.prototype.options.textVisible = true;
            $.mobile.loader.prototype.options.theme = "a";
        });
    </script>
    <script type="text/javascript" src="js/dygraph.min.js"></script>
    <link rel="stylesheet" src="css/dygraph.css" />
</head>

<body>
    <div id="div_g"></div>

    <script type="text/javascript">
        $(document).ready(function () {
            var data = [];
            var t = new Date();
            for (var i = 10; i = 0; i--) {
                var x = new Date(t.getTime() - i * 1000);
                data.push([x, Math.random()]);
            }
            var g = new Dygraph(document.getElementById("div_g"), data,
                {
                    drawPoints: true,
                    showRoller: true,
                    valueRange: [0.0, 1.2],
                    labels: ['Time', 'Power']
                });

            window.intervalId = setInterval(function () {
                var x = new Date();  // current time
                var y = Math.random();
                data.push([x, y]);
                g.updateOptions({ 'file': data });
            }, 1000);
        });
    </script>
</body>

</html>